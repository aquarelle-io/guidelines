# Настройка виртуальных хостов

Apache упрощает одновременное использование нескольких веб-сайтов или веб-приложений на одном физическом сервере и доступ к каждому из них с использованием пользовательского имени домена. Это называется *виртуальным хостингом* , и каждый виртуальный хост может быть отображен в другой подкаталог сервера.

Эта особенность особенно полезна в сценариях разработки, поскольку она позволяет разработчикам изолировать и получать доступ к различным приложениям с использованием уникальных доменных имен. Например, домены *http: //app01.localhost* и *http: //app02.localhost* могут указывать на два отдельных приложения на одном сервере. Или вы можете создать отдельные домены, такие как *http: // client1 /* , *http: // client2 /* и т. Д., Для нескольких клиентских сайтов, размещенных на одном сервере.

| **   | Виртуальные хосты, созданные таким образом, не будут доступны из других систем, если только эти системы не настроены отдельно для связывания настраиваемого домена, используемого виртуальным хостом, с IP-адресом сервера XAMPP. В этом руководстве вы узнаете о процессе создания нового виртуального хоста с помощью XAMPP, создав и настроив пример узла с именем *wordpress.localhost* для установки WordPress. Предполагается, что у вас есть существующая установка WordPress в *C: \ xampp \ apps \ wordpress \ htdocs \* и доступна через URL [http: // localhost / wordpress](http://localhost/wordpress) . |
| ---- | ---------------------------------------- |
|      |                                          |

| **   | Вы можете установить WordPress всего за несколько кликов, используя [модуль WordPress Bitnami для XAMPP](https://bitnami.com/stack/xampp#wordpress) . |
| ---- | ---------------------------------------- |
|      |                                          |

Для создания виртуального хоста выполните следующие действия:

1. Перейдите в установочный каталог XAMPP (обычно, *C: \ xampp* ) и откройте файл *httpd-vhosts.conf* в подкаталоге *apache \ conf \ extra \,* используя ваш любимый текстовый редактор.

2. Замените содержимое этого файла на следующие директивы:

   ```
   <VirtualHost *: 80>
          DocumentRoot "C: / xampp / htdocs /"
          Имя_сервера localhost
   </ VirtualHost>
   <VirtualHost *: 80>
          DocumentRoot "C: / xampp / apps / wordpress / htdocs"
          Имя_сервера wordpress.localhost
   </ VirtualHost>
   ```

   ![image1](http://localhost/dashboard/docs/images/configure-vhosts/image1.png)

   Он содержит два блока конфигурации виртуального хоста:

   - Первый блок - это виртуальный хост по умолчанию или резервный, который используется для всех запросов, которые не соответствуют последующим блокам.
   - Второй блок устанавливает виртуальный хост с именем *wordpress.localhost* . Директива DocumentRoot указывает каталог, который будет использоваться при обслуживании запросов для этого виртуального хоста (в данном случае, установочного каталога WordPress), в то время как директива ServerName указывает собственное доменное имя для виртуального хоста.

   Чтобы добавить больше виртуальных хостов, просто дублируйте второй блок виртуального хоста и измените номера портов, DocumentRoot и ServerName в соответствии с вашими требованиями. Например, если вы хотите использовать SSL с вашим пользовательским доменным именем, вы можете добавить новый виртуальный хост-блок для порта 443.

   | **   | Если вы планируете иметь большое количество виртуальных хостов с очень похожей конфигурацией, рассмотрите возможность использования поддоменов на основе подстановочных знаков с вашими виртуальными хостами. |
   | ---- | ---------------------------------------- |
   |      |                                          |

3. Перезапустите Apache с помощью панели управления XAMPP, чтобы ваши изменения вступили в силу.

   ![image2](http://localhost/dashboard/docs/images/configure-vhosts/image2.png)

4. На этом этапе настроен ваш виртуальный хост. Однако, если вы попробуете перейти на домен *wordpress.localhost* , ваш браузер покажет уведомление об отказе, так как этот домен не существует на самом деле. Чтобы решить эту проблему, необходимо сопоставить настраиваемый домен с локальным IP-адресом. Для этого откройте файл *C: \ windows \ system32 \ drivers \ etc \ hosts* и добавьте следующую строку:

   ```
   127.0.0.1 wordpress.localhost
   ```

   ![image3](http://localhost/dashboard/docs/images/configure-vhosts/image3.png)

   Это касается отображения имени домена *wordpress.localhost* на локальный компьютер, который всегда имеет IP-адрес 127.0.0.1.

| **   | В некоторых версиях Windows вы не сможете редактировать файл *C: \ windows \ system32 \ drivers \ etc \ hosts* без прав администратора. Вы можете отредактировать файл, щелкнув правой кнопкой мыши значок «Блокнот» и выбрав пункт «Запуск от имени администратора», затем введите учетные данные администратора (если необходимо) и нажмите «ОК» или «Да», чтобы продолжить. |
| ---- | ---------------------------------------- |
|      |                                          |

На этом этапе вы должны указать URL-адрес [http: //wordpress.localhost](http://wordpress.localhost/) в адресной строке браузера и посмотреть установку WordPress. Вот пример того, что вы должны увидеть:

![image4](http://localhost/dashboard/docs/images/configure-vhosts/image4.png)