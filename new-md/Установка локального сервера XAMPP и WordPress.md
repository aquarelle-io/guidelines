# Установка локального сервера XAMPP и WordPress

21.02.2014

, обновлено: 

![XAMPP](http://www.wordpressplugins.ru/pics/xampp/1.gif)

Начинать работать с блогом на **WordPress** необходимо на локальном сервере, так как именно на локальном сервере можно оттестировать и настроить все то, что вам будет нужно в будущем при переносе блога на сервер хостера. Не буду советовать установить денвер, потому что, на мой взгляд, лучше выбрать другой, более открытый сервер для использования на домашнем компьютере. Я выбрал **XAMPP **и ни разу об этом не пожалел, так как это очень мощный сервер со всеми необходимыми функциями и простой установкой.

Идем на сайт **XAMPP** и скачиваем нужную версию сервера на этой страничке - [http://www.apachefriends.org/en/xampp-windows.html](http://www.apachefriends.org/en/xampp-windows.html). Я буду рассказывать про установку и настройку версии **1.8.3**, так как она последняя на момент обновления этой статьи. Однако, не спешите скачивать именно последнюю версию сервера. Объясню почему. Очень сомнительно, что у вашего хостера будут установлены все последние версии нужных компонентов, таких как **PHP** и **MySQL**. Следовательно, при переносе блога к хостеру могут возникнуть определенные проблемы. Оно и понятно – если вы все оттестировали на **PHP** версии **5.5.9**, а у хостера установлен **PHP** версии **5.2.17**, то вполне возможны проблемы с совместимостью. Если вы в курсе, какие версии **PHP** и **MySQL** установлены у вашего хостера, то вы можете [выбрать версию](http://sourceforge.net/projects/xampp/files/XAMPP%20Windows/) **XAMPP**, в которой будут установлены компоненты именно нужных вам версий. Если же вы не знаете, у какого хостера потом разместите свой блог, то качайте и устанавливайте последнюю версию сервера.

По сути, все версии **XAMPP** практически одинаковы – отличаются только версии входящих в него компонентов. Поэтому данная статья будет актуальна независимо от того, какую версию **XAMPP** вы будете устанавливать. Я до сих пор для личных нужд использую сервер версии **1.7.1**, так как в этой версии встроены наиболее подходящие мне компоненты. Но повторюсь, в статье я буду рассматривать установку и настройку сервера **XAMPP** версии **1.8.3**.

Прошу прощения за большое количество скриншотов. Любой более-менее разбирающийся человек сам сможет установить и настроить на своем компьютере этот сервер, но эта статья предназначена в первую очередь для новичков-чайников и очень подробно рассказывает весь процесс установки и настройки, как сервера **XAMPP**, так и движка **WordPress**.

Скачали? Запускаем инсталлятор. Если у вас запущен какой-либо антивирус, то вы увидите следующее предупреждение:

![Предупреждение об антивирусе](http://www.wordpressplugins.ru/pics/xampp/2.gif)

Это сообщение говорит вам о том, что при запущенном антивирусе установка сервера может занять продолжительное время. Если у вас достаточно мощный компьютер, то кликайте на "**Yes**", не отключая антивирус.

Следующим появится такое окно:

![Начало установки сервера XAMPP](http://www.wordpressplugins.ru/pics/xampp/3.gif)

Это просто приветственное окошко, сообщающее о начале установки. Кликайте на кнопку "**Next**", после чего вы увидите окно:

![Выбор компонентов сервера](http://www.wordpressplugins.ru/pics/xampp/4.gif)

Это выбор компонентов сервера, которые будут установлены. По умолчанию, выбраны все компоненты. Но устанавливать на локальный сервер все компоненты вовсе не обязательно, лучше ограничиться необходимым минимумом. Примерно как изображено на скриншоте. Выбрали? Кликайте на кнопку "**Next**", теперь необходимо выбрать папку для установки:

![Выбор папки для установки](http://www.wordpressplugins.ru/pics/xampp/5.gif)

Я использую папку "**C:\server**", вы можете установить сервер в другое место. Выбрали? Кликайте дальше на "**Next**", появится вот такое окно:

![Реклама плагинов для XAMPP](http://www.wordpressplugins.ru/pics/xampp/6.gif)

По сути, это просто реклама плагинов для **XAMPP**, с помощью которых вы автоматически можете установить многие движки вроде **WordPress** и **Joomla**. Конечно, это удобно, но не советую их использовать – локальный сервер нужен еще и по причине того, что вам необходимо научиться устанавливать движки самому. Если за вас это сделает автоматический инсталлер, то чему тогда вы научитесь и зачем вам тогда вообще нужен локальный сервер? Так что советую снять галку рекламы и кликать дальше на "**Next**":

![XAMPP готов к установке](http://www.wordpressplugins.ru/pics/xampp/7.gif)

Это окно вам говорит о том, что все готово к установке. Кликайте на "**Next**" и наслаждайтесь процессом установки:

![Установка сервера XAMPP](http://www.wordpressplugins.ru/pics/xampp/8.gif)

Процесс установки закончится при появлении вот этого окна:

![Процесс установки закончен](http://www.wordpressplugins.ru/pics/xampp/9.gif)

Кликайте на "**Finish**", после чего запустится панель управления сервера:

![Панель управления сервером](http://www.wordpressplugins.ru/pics/xampp/10.gif)

Впервые увидев эту панель, вы можете растеряться, так как в ней слишком много всяких кнопочек. Но не пугайтесь, тут все просто. Все, что нам тут нужно это нажать две кнопки – запуск сервера **Apache** и базы данных **MySQL**. Просто нажмите на кнопки "**Start**" напротив них. Если все запустилось без ошибок, то панель управления будет выглядеть так:

![Запущен сервер Apache](http://www.wordpressplugins.ru/pics/xampp/11.gif)

По сути, ваш локальный сервер уже работает, теперь надо его настроить. Для этого откройте в браузере ссылку "**http://localhost**":

![Открытие localhost](http://www.wordpressplugins.ru/pics/xampp/12.gif)

Вы автоматически будете перенаправлены на страницу выбора языка:

![Выбор языка сервера](http://www.wordpressplugins.ru/pics/xampp/13.gif)

Русского языка в **XAMPP** нет, поэтому выбираем английский. Не пугайтесь отсутствия русского перевода, после небольшой настройки сервера вам никогда больше не придется сюда заходить. После клика на "**English**" откроется вот такая начальная приветственная страница:

![Главная страница сервера](http://www.wordpressplugins.ru/pics/xampp/14.gif)

Сразу заходим по ссылке "**Security**", там вам покажут список небезопасных настроек сервера и предложат перейти по этой ссылке:

![Настройка паролей в XAMPP](http://www.wordpressplugins.ru/pics/xampp/15.gif)

Кликаем на ссылку и попадаем на страницу установки паролей. Первым делом установите пароль для базы данных **MySQL** для пользователя **root**:

![Установка пароля к MySQL](http://www.wordpressplugins.ru/pics/xampp/16.gif)

Все просто - набираем пароль 2 раза и жмем на кнопку **"Password changing**". Если ваш компьютер подключен к локальной сети, то необходимо установить еще пароль и на директорию **XAMPP**:

![Установка пароля к папке XAMPP](http://www.wordpressplugins.ru/pics/xampp/17.gif)

Если вы заходите в интернет не через публичную локальную сеть, то этой настройкой вполне можно пренебречь.

Собственно, на этом настройка самого сервера **XAMPP** завершена. Теперь приступим к установке на него **WordPress**. Сначала нам необходимо создать базу данных **MySQL**, для этого откройте панель управления сервером и нажмите на кнопку "**Admin**" напротив "**MySQL**":

![Открываем phpMyAdmin через панель управления](http://www.wordpressplugins.ru/pics/xampp/18.gif)

В вашем браузере откроется страница входа в **phpMyAdmin**:

![Вход в phpMyAdmin](http://www.wordpressplugins.ru/pics/xampp/19.gif)

В качестве пользователя вводите "**root**", а в качестве пароля тот пароль, который вы установили для доступа к **MySQL**. Ввели – заходим в **phpMyAdmin**. Жмем на кнопку "**Базы данных**" и создаем новую базу данных под названием "**wordpress**" (обязательно в кодировке **utf8_general_ci**):

![Создание базы данных](http://www.wordpressplugins.ru/pics/xampp/20.gif)

После нажатия кнопки "**Создать**" появится сообщение:

![База данных создана](http://www.wordpressplugins.ru/pics/xampp/21.gif)

Теперь приступим непосредственно к установке движка **WordPress**. Первым делом вам необходимо его скачать. Идите на официальный сайт [http://ru.wordpress.org](http://ru.wordpress.org/) и скачайте там последнюю версию движка. Теперь зайдите в папку "**C:\server\htdocs**" и создайте там папку с именем, по которому будет открываться ваш локальный блог. Например, создайте там папку "**blog**" и скопируйте туда распакованные файлы дистрибутива.

То есть файлы движка должны у вас лежать по пути "**c:\server\htdocs\blog**". Не папка "**wordpress**" должна быть по этому пути, а сами файлы движка. Будьте здесь внимательны:

![Файлы движка в папке blog](http://www.wordpressplugins.ru/pics/xampp/26.gif)

Теперь открываем файл "**wp-config-sample.php**" в любом текстовом редакторе с поддержкой сохранения текста в кодировке **UTF-8 без BOM**, как например Notepad++ ([http://notepad-plus.sourceforge.net/ru/site.htm](http://notepad-plus.sourceforge.net/ru/site.htm)) и редактируем его примерно таким образом:

| `1234567891011121314151617181920212223242526272829303132333435363738394041` | `<?php/** Имя базы данных для WordPress */define('DB_NAME', 'wordpress');/** Имя пользователя MySQL */define('DB_USER', 'root');/** Пароль к базе данных MySQL */define('DB_PASSWORD', '123456789');/** Имя сервера MySQL */define('DB_HOST', 'localhost');/** Кодировка базы данных для создания таблиц. */define('DB_CHARSET', 'utf8');/** Схема сопоставления. Не меняйте, если не уверены. */define('DB_COLLATE', 'utf8_general_ci'); /** Уникальные ключи и соли для аутентификации. */ define('AUTH_KEY',         '%5hT>mnVWZ|chrP|Vx(Pt2DA9Yu_Iyntgii`');define('SECURE_AUTH_KEY',  '\|;.%IZ-A_=qMtHCnrEA7Ka!F]s2~X:Y)XJ6d');define('LOGGED_IN_KEY',    'RL13)Io(/ToX-1/%`/]IDO(f,o*uqp`Q}`,G');define('NONCE_KEY',        '/85B~{l&&W.x:MeoNFB!2BQ$:hX4j|AHxA6o');define('AUTH_SALT',        '$V@EM>VGDoYB0:mJq%$Qh||A;V/w?T,,BkT`');define('SECURE_AUTH_SALT', 'U>uPV\|#D#o-FKwwKvHzAdiCh^F5S?o\|v^;]u');define('LOGGED_IN_SALT',   'L142y.eKU/Ba>gjm5S0_%\|2;I&Ou6&;AGu];');define('NONCE_SALT',       'OBve/86egiO_(=m#c9I!zSE5UgWZ-NsX5V}z');  /** Префикс таблиц в базе данных WordPress. */$table_prefix  = 'wp_';/** Язык локализации WordPress, по умолчанию английский. */define('WPLANG', 'ru_RU');/** Для разработчиков: Режим отладки WordPress. */define('WP_DEBUG', false); /* Это всё, дальше не редактируем. Успехов! */ /** Абсолютный путь к директории WordPress. */if ( !defined('ABSPATH') )	define('ABSPATH', dirname(__FILE__) . '/'); /** Инициализирует переменные WordPress и подключает файлы. */require_once(ABSPATH . 'wp-settings.php');?>` |
| ---------------------------------------- | ---------------------------------------- |
|                                          |                                          |

Где вы указываете имя базы данных (у меня это "**wordpress"**), имя пользователя в **MySQL** (это "**root"**) и пароль (тот, что вы установили, у меня это **123456789**, но надеюсь, что вы в качестве пароля использовали не такой простой набор цифр). Не забудьте установить свои собственные ключи и соли для аутентификации. Сохраняем этот файл под именем **wp-config.php**. Обязательно в кодировке **UTF-8 без BOM **– запомните, что любые файлы движка необходимо редактировать только в этой кодировке, иначе ваш блог просто перестанет открываться.

Так как я скопировал файлы дистрибутива **WordPress** в папку "**C:\server\htdocs\blog**", то для того, чтобы продолжить установку я должен открыть в браузере ссылку **http://localhost/blog/**:

![Ссылка http://localhost/blog/](http://www.wordpressplugins.ru/pics/xampp/22.gif)

Откроется страничка с установкой **WordPress**, ничего сложного:

![Окончательная установка WordPress](http://www.wordpressplugins.ru/pics/xampp/23.gif)

Кликаем на "**Установить WordPress**" и через несколько секунд получаем:

![WordPress установлен](http://www.wordpressplugins.ru/pics/xampp/24.gif)

Жмем на "**Войти**" и радуемся установленному блогу:

![Главная страница установленного блога](http://www.wordpressplugins.ru/pics/xampp/25.gif)

Рекомендую сразу же установить какой-нибудь более приличный шаблон, так как в последних версиях **WordPress** дефолтные шаблоны просто ужасны (как вы можете видеть на скриншоте).

Сервер **XAMPP** установлен, **WordPress** установлен, можете приступать к настройке блога.

Несколько замечаний. Первое - если вы установили только те компоненты сервера, которые выбрал я (то есть без **Mercury Mail Server**), то по-настоящему ваш сервер рассылать почту не будет. Все исходящие имейлы будут сохраняться в формате **txt** в папке **mailoutput** (то есть у меня это папка "**c:\server\mailoutput**"). Это очень удобно, когда вам необходимо проверить рассылку имейлов каким-либо плагином на разные адреса – по-настоящему они не отсылаются, но проконтролировать работу вы все равно можете.

Второе – иногда необходимо настроить **XAMPP** так, чтобы не обращаться к своим блогам через localhost. То есть не **http://localhost/blog**, а **http://www.blog.ru**– и пусть никто кроме вас такой урл открыть не сможет, но вам это может быть необходимо. Скажем, если вы активно заполняете блог на локальном сервере и не хотите после переноса блога к хостеру вручную менять все вхождения localhost в базе данных (например, все залитые картинки на локальном сервере будут иметь адрес через localhost). Делается это через настройку виртуальных хостов и сделать это не слишком сложно.

Первым делом, создайте где-нибудь отдельную папку. Скажем, папку "**mysites**" (имя не имеет значения). Предположим, вы ее создали в корне диска и теперь она имеет путь "**C:\mysites\**". В ней создайте папку с именем вашего домена, скажем "**blog.ru**", а в ней еще подпапки "**www**" и "**logs**". В папку "**www"** закиньте файлы движка **WordPress**. То у вас должна получиться следующая иерархия папок:

![Настройка виртуальных хостов](http://www.wordpressplugins.ru/pics/xampp/27.gif)

Теперь необходимо немного поправить настройки сервера. Вам нужно открыть файл **httpd-vhosts.conf** в папке "**C:\server\apache\conf\extra"** и добавить в самый его конец следующий текст:

Не забудьте только аккуратно поправить пути на свои собственные. Маленький нюанс – данный код будет работать только с теми версиями **XAMPP**, в которых **Apache** версии **2.4** или выше. Если в вашей версии **XAMPP Apache** ниже версии **2.4**, то для корректной работы виртуальных хостов надо использовать код:

Будьте тут внимательны, а то потратите как я половину дня, чтобы понять, откуда вдруг взялась ошибка "**AH01630: client denied by server configuration**" и почему виртуальные хосты на старой версии **XAMPP** работают, а на новой сервер постоянно выдает ошибку конфигурации.

После этой настройки вам необходимо открыть файл **hosts** по пути "**C:\Windows\System32\drivers\ets\hosts**" и добавить туда текст:

Теперь перезапустите **Apache** (кнопка "**Stop**" и затем опять "**Start**" в панели управления сервером) и можете открывать свой сайт через урл **http://www.blog.ru**. Ничего сложного, работы на 5 минут максимум.

Преимущества использования виртуальных хостов очевидны – чтобы перенести блог к хостеру достаточно лишь скопировать файлы движка и импортировать заранее сделанный через **phpMySQL** дамп базы данных. Ну, разве что, еще придется поменять пароли в файле **wp-config.php** на те, что вам даст хостер. Недостатки при использовании виртуальных хостов тоже есть – после переноса сайта к хостеру вы больше не сможете одновременно работать и с локальной версией блога и с общедоступной. Чтобы открыть локальную версию вам придется добавлять нужные строчки в файл **hosts**, а чтобы открыть блог у хостера вам придется эти строчки удалять. У некоторых ярлык на файл **hosts** вынесен прямо на рабочий стол, так как его редактирование становится довольно частой задачей. В любом случае, виртуальные хосты удобны.

В начале статьи я сказал о том, что установка разных версий **XAMPP** одинакова. Но на деле в более старых версиях сервера окошки могут выглядеть иначе, некоторые вообще могут быть пропущены. Но по сути, все тоже самое. И настраивается точно таким же образом. Если будут какие-то проблемы, то пишите о них в комментариях – я вам обязательно помогу.

И последнее, после установки и настройки **WordPress** не забудьте установить и обязательный комплект плагинов для него. Как минимум, установите плагин для [траслитерации русских символов в ссылках на английские](http://www.wordpressplugins.ru/critical/cyr-to-lat.html) (русские ссылки это плохая идея!), плагин для [защиты от взлома](http://www.wordpressplugins.ru/critical/wordpress-file-monitor.html), плагин [русских дат](http://www.wordpressplugins.ru/critical/russian-date.html), плагин правильного [склонения слова "комментарии"](http://www.wordpressplugins.ru/critical/2-4-comment-fix.html),  плагин [подписки на комментарии](http://www.wordpressplugins.ru/komments/subscribe-to-comments.html), плагин [SEO оптимизации блога](http://www.wordpressplugins.ru/seo/all-in-one-seo-pack.html), да и вообще – пройдитесь по всем рубрикам этого сайта, тут мной описано множество плагинов, которые необходимы для полноценной работы блога. Если будут какие-либо вопросы – спрашивайте в комментариях, я вам обязательно отвечу.